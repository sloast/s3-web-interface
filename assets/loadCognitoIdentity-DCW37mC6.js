import{c as q,S as M,a as m,d,w as _,H as T,t as S,e as y,b as B,p as j,f as D,C as P,g as O,h as F,i as N}from"./index-pm5LxNuD.js";import{j as he}from"./index-pm5LxNuD.js";const a=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(n=>n!=null).map(a);if(typeof e=="object"){const n={};for(const t of Object.keys(e))e[t]!=null&&(n[t]=a(e[t]));return n}return e},u=(e,n)=>q(e,n).then(t=>{if(t.length)try{return JSON.parse(t)}catch(o){throw(o==null?void 0:o.name)==="SyntaxError"&&Object.defineProperty(o,"$responseBodyText",{value:t}),o}return{}}),J=async(e,n)=>{const t=await u(e,n);return t.message=t.message??t.Message,t},K=(e,n)=>{const t=(l,i)=>Object.keys(l).find(p=>p.toLowerCase()===i.toLowerCase()),o=l=>{let i=l;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return o(e.headers[s]);if(n.code!==void 0)return o(n.code);if(n.__type!==void 0)return o(n.__type)};class c extends M{constructor(n){super(n),Object.setPrototypeOf(this,c.prototype)}}class f extends c{constructor(n){super({name:"InternalErrorException",$fault:"server",...n}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,f.prototype)}}class E extends c{constructor(n){super({name:"InvalidParameterException",$fault:"client",...n}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,E.prototype)}}class h extends c{constructor(n){super({name:"LimitExceededException",$fault:"client",...n}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class C extends c{constructor(n){super({name:"NotAuthorizedException",$fault:"client",...n}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,C.prototype)}}class w extends c{constructor(n){super({name:"ResourceConflictException",$fault:"client",...n}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,w.prototype)}}class I extends c{constructor(n){super({name:"TooManyRequestsException",$fault:"client",...n}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,I.prototype)}}class g extends c{constructor(n){super({name:"ResourceNotFoundException",$fault:"client",...n}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,g.prototype)}}class b extends c{constructor(n){super({name:"ExternalServiceException",$fault:"client",...n}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,b.prototype)}}class z extends c{constructor(n){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...n}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,z.prototype)}}class R extends c{constructor(n){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...n}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,R.prototype)}}class $ extends c{constructor(n){super({name:"ConcurrentModificationException",$fault:"client",...n}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,$.prototype)}}const k=e=>({...e,...e.Logins&&{Logins:m}}),H=e=>({...e,...e.SecretKey&&{SecretKey:m}}),U=e=>({...e,...e.Credentials&&{Credentials:H(e.Credentials)}}),W=e=>({...e,...e.Logins&&{Logins:m}}),V=async(e,n)=>{const t=L("GetCredentialsForIdentity");let o;return o=JSON.stringify(a(e)),A(n,t,"/",void 0,o)},Q=async(e,n)=>{const t=L("GetId");let o;return o=JSON.stringify(a(e)),A(n,t,"/",void 0,o)},X=async(e,n)=>{if(e.statusCode>=300)return G(e,n);const t=await u(e.body,n);let o={};return o=ye(t),{$metadata:r(e),...o}},Y=async(e,n)=>{if(e.statusCode>=300)return G(e,n);const t=await u(e.body,n);let o={};return o=a(t),{$metadata:r(e),...o}},G=async(e,n)=>{const t={...e,body:await J(e.body,n)},o=K(e,t.body);switch(o){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await ne(t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await se(t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await ie(t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await ae(t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ce(t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await de(t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await re(t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await te(t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await oe(t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await ee(t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await Z(t);default:const s=t.body;return pe({output:e,parsedBody:s,errorCode:o})}},Z=async(e,n)=>{const t=e.body,o=a(t),s=new $({$metadata:r(e),...o});return d(s,t)},ee=async(e,n)=>{const t=e.body,o=a(t),s=new R({$metadata:r(e),...o});return d(s,t)},te=async(e,n)=>{const t=e.body,o=a(t),s=new b({$metadata:r(e),...o});return d(s,t)},ne=async(e,n)=>{const t=e.body,o=a(t),s=new f({$metadata:r(e),...o});return d(s,t)},oe=async(e,n)=>{const t=e.body,o=a(t),s=new z({$metadata:r(e),...o});return d(s,t)},se=async(e,n)=>{const t=e.body,o=a(t),s=new E({$metadata:r(e),...o});return d(s,t)},ie=async(e,n)=>{const t=e.body,o=a(t),s=new h({$metadata:r(e),...o});return d(s,t)},ae=async(e,n)=>{const t=e.body,o=a(t),s=new C({$metadata:r(e),...o});return d(s,t)},ce=async(e,n)=>{const t=e.body,o=a(t),s=new w({$metadata:r(e),...o});return d(s,t)},re=async(e,n)=>{const t=e.body,o=a(t),s=new g({$metadata:r(e),...o});return d(s,t)},de=async(e,n)=>{const t=e.body,o=a(t),s=new I({$metadata:r(e),...o});return d(s,t)},le=(e,n)=>S(e,{AccessKeyId:y,Expiration:t=>B(j(D(t))),SecretKey:y,SessionToken:y}),ye=(e,n)=>S(e,{Credentials:t=>le(t),IdentityId:y}),r=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),pe=_(c),A=async(e,n,t,o,s)=>{const{hostname:l,protocol:i="https",port:p,path:x}=await e.endpoint(),v={protocol:i,hostname:l,port:p,method:"POST",path:x.endsWith("/")?x.slice(0,-1)+t:x+t,headers:n};return s!==void 0&&(v.body=s),new T(v)};function L(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class me extends P.classBuilder().ep(O).m(function(n,t,o,s){return[F(o,this.serialize,this.deserialize),N(o,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(k,U).ser(V).de(X).build(){}class ue extends P.classBuilder().ep(O).m(function(n,t,o,s){return[F(o,this.serialize,this.deserialize),N(o,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(W,void 0).ser(Q).de(Y).build(){}export{he as CognitoIdentityClient,me as GetCredentialsForIdentityCommand,ue as GetIdCommand};
