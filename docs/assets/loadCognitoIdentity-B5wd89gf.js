var M=Object.defineProperty;var _=(t,n,e)=>n in t?M(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var i=(t,n,e)=>_(t,typeof n!="symbol"?n+"":n,e);import{c as T,S as j,a as u,H as B,w as K,d as l,t as P,e as p,b as D,p as J,f as k,C as O,g as F,h as N,i as G}from"./index-B7_gzZBS.js";import{j as ge}from"./index-B7_gzZBS.js";const r=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(n=>n!=null).map(r);if(typeof t=="object"){const n={};for(const e of Object.keys(t))t[e]!=null&&(n[e]=r(t[e]));return n}return t},f=(t,n)=>T(t,n).then(e=>{if(e.length)try{return JSON.parse(e)}catch(o){throw(o==null?void 0:o.name)==="SyntaxError"&&Object.defineProperty(o,"$responseBodyText",{value:e}),o}return{}}),H=async(t,n)=>{const e=await f(t,n);return e.message=e.message??e.Message,e},U=(t,n)=>{const e=(y,c)=>Object.keys(y).find(x=>x.toLowerCase()===c.toLowerCase()),o=y=>{let c=y;return typeof c=="number"&&(c=c.toString()),c.indexOf(",")>=0&&(c=c.split(",")[0]),c.indexOf(":")>=0&&(c=c.split(":")[0]),c.indexOf("#")>=0&&(c=c.split("#")[1]),c},s=e(t.headers,"x-amzn-errortype");if(s!==void 0)return o(t.headers[s]);if(n&&typeof n=="object"){const y=e(n,"code");if(y&&n[y]!==void 0)return o(n[y]);if(n.__type!==void 0)return o(n.__type)}};class a extends j{constructor(n){super(n),Object.setPrototypeOf(this,a.prototype)}}class E extends a{constructor(e){super({name:"InternalErrorException",$fault:"server",...e});i(this,"name","InternalErrorException");i(this,"$fault","server");Object.setPrototypeOf(this,E.prototype)}}class h extends a{constructor(e){super({name:"InvalidParameterException",$fault:"client",...e});i(this,"name","InvalidParameterException");i(this,"$fault","client");Object.setPrototypeOf(this,h.prototype)}}class C extends a{constructor(e){super({name:"LimitExceededException",$fault:"client",...e});i(this,"name","LimitExceededException");i(this,"$fault","client");Object.setPrototypeOf(this,C.prototype)}}class w extends a{constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e});i(this,"name","NotAuthorizedException");i(this,"$fault","client");Object.setPrototypeOf(this,w.prototype)}}class I extends a{constructor(e){super({name:"ResourceConflictException",$fault:"client",...e});i(this,"name","ResourceConflictException");i(this,"$fault","client");Object.setPrototypeOf(this,I.prototype)}}class g extends a{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e});i(this,"name","TooManyRequestsException");i(this,"$fault","client");Object.setPrototypeOf(this,g.prototype)}}class b extends a{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e});i(this,"name","ResourceNotFoundException");i(this,"$fault","client");Object.setPrototypeOf(this,b.prototype)}}class z extends a{constructor(e){super({name:"ExternalServiceException",$fault:"client",...e});i(this,"name","ExternalServiceException");i(this,"$fault","client");Object.setPrototypeOf(this,z.prototype)}}class R extends a{constructor(e){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...e});i(this,"name","InvalidIdentityPoolConfigurationException");i(this,"$fault","client");Object.setPrototypeOf(this,R.prototype)}}class $ extends a{constructor(e){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...e});i(this,"name","DeveloperUserAlreadyRegisteredException");i(this,"$fault","client");Object.setPrototypeOf(this,$.prototype)}}class v extends a{constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e});i(this,"name","ConcurrentModificationException");i(this,"$fault","client");Object.setPrototypeOf(this,v.prototype)}}const W=t=>({...t,...t.Logins&&{Logins:u}}),V=t=>({...t,...t.SecretKey&&{SecretKey:u}}),Q=t=>({...t,...t.Credentials&&{Credentials:V(t.Credentials)}}),X=t=>({...t,...t.Logins&&{Logins:u}}),Y=async(t,n)=>{const e=q("GetCredentialsForIdentity");let o;return o=JSON.stringify(r(t)),L(n,e,"/",void 0,o)},Z=async(t,n)=>{const e=q("GetId");let o;return o=JSON.stringify(r(t)),L(n,e,"/",void 0,o)},ee=async(t,n)=>{if(t.statusCode>=300)return A(t,n);const e=await f(t.body,n);let o={};return o=me(e),{$metadata:d(t),...o}},te=async(t,n)=>{if(t.statusCode>=300)return A(t,n);const e=await f(t.body,n);let o={};return o=r(e),{$metadata:d(t),...o}},A=async(t,n)=>{const e={...t,body:await H(t.body,n)},o=U(t,e.body);switch(o){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await ie(e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await re(e);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await ae(e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await de(e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await le(e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await pe(e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ye(e);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await se(e);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await ce(e);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await oe(e);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await ne(e);default:const s=e.body;return ue({output:t,parsedBody:s,errorCode:o})}},ne=async(t,n)=>{const e=t.body,o=r(e),s=new v({$metadata:d(t),...o});return l(s,e)},oe=async(t,n)=>{const e=t.body,o=r(e),s=new $({$metadata:d(t),...o});return l(s,e)},se=async(t,n)=>{const e=t.body,o=r(e),s=new z({$metadata:d(t),...o});return l(s,e)},ie=async(t,n)=>{const e=t.body,o=r(e),s=new E({$metadata:d(t),...o});return l(s,e)},ce=async(t,n)=>{const e=t.body,o=r(e),s=new R({$metadata:d(t),...o});return l(s,e)},re=async(t,n)=>{const e=t.body,o=r(e),s=new h({$metadata:d(t),...o});return l(s,e)},ae=async(t,n)=>{const e=t.body,o=r(e),s=new C({$metadata:d(t),...o});return l(s,e)},de=async(t,n)=>{const e=t.body,o=r(e),s=new w({$metadata:d(t),...o});return l(s,e)},le=async(t,n)=>{const e=t.body,o=r(e),s=new I({$metadata:d(t),...o});return l(s,e)},ye=async(t,n)=>{const e=t.body,o=r(e),s=new b({$metadata:d(t),...o});return l(s,e)},pe=async(t,n)=>{const e=t.body,o=r(e),s=new g({$metadata:d(t),...o});return l(s,e)},xe=(t,n)=>P(t,{AccessKeyId:p,Expiration:e=>D(J(k(e))),SecretKey:p,SessionToken:p}),me=(t,n)=>P(t,{Credentials:e=>xe(e),IdentityId:p}),d=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),ue=K(a),L=async(t,n,e,o,s)=>{const{hostname:y,protocol:c="https",port:x,path:m}=await t.endpoint(),S={protocol:c,hostname:y,port:x,method:"POST",path:m.endsWith("/")?m.slice(0,-1)+e:m+e,headers:n};return s!==void 0&&(S.body=s),new B(S)};function q(t){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}}class he extends O.classBuilder().ep(F).m(function(n,e,o,s){return[N(o,this.serialize,this.deserialize),G(o,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(W,Q).ser(Y).de(ee).build(){}class Ce extends O.classBuilder().ep(F).m(function(n,e,o,s){return[N(o,this.serialize,this.deserialize),G(o,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(X,void 0).ser(Z).de(te).build(){}export{ge as CognitoIdentityClient,he as GetCredentialsForIdentityCommand,Ce as GetIdCommand};
